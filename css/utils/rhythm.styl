@import '../../node_modules/nice_rhythm/nice_rhythm.styl'

baseFontSize = .9rem
baseFontSizeLarge = 1.1rem
scaleFactor = 1.333
scaleFactorLarge = 1.618
minViewportWidth = $minViewportWidth
maxViewportWidth = $maxViewportWidth

baseLineHeight = baseFontSize * 1.25
baseLineHeightLarge = baseFontSizeLarge * 1.1

niceRhythm(
  _baseFontSize: baseFontSize,
  _baseFontSizeLarge: baseFontSizeLarge,
  _scaleFactor: scaleFactor,
  _scaleFactorLarge: scaleFactorLarge,
  _baseLineHeight: baseLineHeight,
  _baseLineHeightLarge: baseLineHeightLarge,
  _minViewportWidth: minViewportWidth,
  _maxViewportWidth: maxViewportWidth,
  _lineHeights: {
    'default': {
      '0': baseLineHeight * 1,
      '1': baseLineHeight * 1.25,
      '2': baseLineHeight * 1.5,
      '3': baseLineHeight * 2
    },
    'large': {
      '0': baseLineHeightLarge * 1,
      '1': baseLineHeightLarge * 1.25,
      '2': baseLineHeightLarge * 1.5,
      '3': baseLineHeightLarge * 2
    }
  },
  _fontScales: {
    'default': {
      '0': baseFontSize * (scaleFactor ** 0),
      '1': baseFontSize * (scaleFactor ** 1),
      '2': baseFontSize * (scaleFactor ** 1.5),
      '3': baseFontSize * (scaleFactor ** 2.5)
    },
    'large': {
      '0': baseFontSizeLarge * (scaleFactor ** -.5),
      '1': baseFontSizeLarge * (scaleFactor ** 0),
      '2': baseFontSizeLarge * (scaleFactor ** 1),
      '3': baseFontSizeLarge * (scaleFactor ** 2)
    }
  },
  _font: $fontFamily1
)

niceRhythm(
  _baseFontSize: baseFontSize,
  _baseFontSizeLarge: baseFontSizeLarge,
  _scaleFactor: scaleFactor,
  _scaleFactorLarge: scaleFactorLarge,
  _baseLineHeight: baseLineHeight,
  _baseLineHeightLarge: baseLineHeightLarge,
  _minViewportWidth: minViewportWidth,
  _maxViewportWidth: maxViewportWidth,
  _lineHeights: {
    'default': {
      '0': baseLineHeight * 1,
      '1': baseLineHeight * 1.5,
      '2': baseLineHeight * 1.75,
      '3': baseLineHeight * 2.25
    },
    'large': {
      '0': baseLineHeightLarge * 1,
      '1': baseLineHeightLarge * 1.5,
      '2': baseLineHeightLarge * 2,
      '3': baseLineHeightLarge * 2.5
    }
  },
  _fontScales: {
    'default': {
      '0': baseFontSize * (scaleFactor ** -.5),
      '1': baseFontSize * (scaleFactor ** 1),
      '2': baseFontSize * (scaleFactor ** 1.5),
      '3': baseFontSize * (scaleFactor ** 2.5)
    },
    'large': {
      '0': baseFontSizeLarge * (scaleFactor ** -.5),
      '1': baseFontSizeLarge * (scaleFactor ** 0.5),
      '2': baseFontSizeLarge * (scaleFactor ** 1.5),
      '3': baseFontSizeLarge * (scaleFactor ** 2.5)
    }
  },
  _font: $fontFamily2
)

letterSpacingFont1(scale)
  table = {
    '0': 0,
    '1': -0.01rem,
    '2': -0.02rem,
    '3': -0.03rem
  }

  letter-spacing: table['%s' % scale]